<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta name="generator" content="ABBYY FineReader 14"/><title>Microsoft Word - 055. Nowak-eLexicon-055.docx</title><link rel="stylesheet" href="055_files/055.css" type="text/css"/>
</head>
<body>
<p><span class="font6" style="font-weight:bold;font-style:italic;">eLexicon.</span><span class="font6" style="font-weight:bold;"> Dictionary of Polish Medieval Latin: from&nbsp;TEI encoding to an eXist-db&nbsp;application</span></p>
<p><span class="font8" style="font-weight:bold;">Krzysztof Nowak</span></p>
<p><span class="font8"><a href="mailto:krzysztof.nowak@ijp-pan.krakow.pl">krzysztof.nowak@ijp-pan.krakow.pl</a> Polish Academy of Sciences Krakow, Poland</span></p><h1><a name="caption1"></a><a name="bookmark0"></a><span class="font5" style="font-weight:bold;">Introduction</span></h1><h2><a name="bookmark1"></a><span class="font5">From the </span><span class="font5" style="font-style:italic;">Lexicon</span><span class="font5"> to the </span><span class="font5" style="font-style:italic;">eLexicon</span></h2>
<p><span class="font8">The first fascicle of the </span><span class="font8" style="font-style:italic;">Lexicon mediae et infimae Latinitatis Polonorum</span><span class="font8"> (Dictionary of Polish Medieval&nbsp;Latin, henceforth LMILP) was published in 1953. The&nbsp;project aims at providing an exhaustive account of the&nbsp;Latin vocabulary used on Polish territory during the&nbsp;Middle Ages. Addressed to a scholarly public, the dictionary does not make many concessions to a less advanced user. Information is often conveyed only indirectly, by means of typographic devices or is left to be&nbsp;inferred by the reader. The project of retro-digitization of the LMILP started in the mid-2011 and was</span></p>
<p><span class="font8">completed by the mid-2014. The </span><span class="font8" style="text-decoration:underline;">web application,</span><span class="font8"> although completed, is still subject to modifications and</span></p>
<p><span class="font8">refinements.</span></p><h1><a name="bookmark2"></a><span class="font5" style="font-weight:bold;">Dictionary Annotation</span></h1>
<p><span class="font8">The XML encoding of the dictionary was by no means an ultimate goal of the project. Instead, the idea&nbsp;was to make the rich content of the LMILP fully searchable through a user-friendly interface. This objective,&nbsp;however, has deeply influenced the XML schema design. The TEI (TEI Consortium 2016) was chosen as an&nbsp;annotation standard because at the time the work&nbsp;started it had been already employed in major electronic lexicography projects (Lewis-Short by the Perseus Project; DuCange by the ENC). The popularity&nbsp;that the standard had gained among scholars contributed to emergence of lively community which produced documentation and use cases which supplemented the “Dictionaries” chapter of the TEI Guidelines. Also, the very fact that the TEI Guidelines offered&nbsp;a set of ready-to-use tags for the description of lexicographic content was not without significance. Finally,&nbsp;the TEI XML was supported by major software providers, an important factor for the project in which adaptation of existing rather than writing new software&nbsp;was planned.</span></p><h2><a name="bookmark3"></a><span class="font5">Workflow</span></h2>
<p><span class="font8">The paper dictionary was scanned and the output of the OCR program (Abbyy FineReader 11) was exported to ODT files; from each a </span><span class="font8" style="font-style:italic;">content.xml</span><span class="font8"> file was&nbsp;extracted and then applied a series of XSL transformations. The main goal was to simplify styles that&nbsp;were automatically generated by the OCR software.&nbsp;Resulting XML files underwent second phase of XSL&nbsp;processing in which constitutive parts of the dictionary, such as entry, headword, sense definition </span><span class="font8" style="font-style:italic;">etc.</span><span class="font8">,&nbsp;were encoded. The output XML files were again retranslated into ODT format: entries were encoded as&nbsp;paragraph styles, other tags were represented as character styles. In the next phase of the project the lexicographers started to proofread OCR text and correct&nbsp;errors of automatic annotation. This task was performed with the help of LibreOffice Writer exclusively&nbsp;without annotators being actually conscious of the underlying XML structure. From the practical point of&nbsp;view, annotation consisted in verifying whether automatic XSL processing produced correct styles; if this&nbsp;was not the case correct style had to be applied, as in&nbsp;standard text processing task.</span></p>
<table border="1">
<tr><td>
<p><span class="font11">B • 13 -</span></p></td><td>
<p><span class="font11">■□ass &nbsp;&nbsp;&nbsp;s -</span></p></td><td>
<p></p></td><td>
<p></p></td><td>
<p></p></td></tr>
<tr><td>
<p></p></td><td>
<p><span class="font0" style="font-weight:bold;">■es New Roman</span></p></td><td>
<p><span class="font0" style="font-weight:bold;">ZU-«</span></p></td><td>
<p></p></td><td>
<p></p></td></tr>
<tr><td colspan="5">
<p></p></td></tr>
</table>
<p><span class="font10" style="font-weight:bold;">DISPERSIO s. DISPARSIO, </span><span class="font11">-onis.£ | Th. </span><span class="font10" style="font-weight:bold;">BI. |S. I . A. N. I.</span><span class="font11" style="font-style:italic;">:&gt;r„;,r \-'vrum: rozrzucenie, roz\ sianie; actus </span><span class="font11" style="font-style:italic;text-decoration:underline;">disper^ndi</span><span class="font11" style="font-style:italic;">, </span><span class="font11" style="font-style:italic;text-decoration:underline;">dissipatio</span><span class="font11"> StPPP VIII |p. 229 (a. 1387): pro d-e frumenti. </span><span class="font11" style="text-decoration:underline;">AKapSad</span><span class="font11"> II&nbsp;p. 94 (a. 1502): </span><span class="font11" style="text-decoration:underline;">interrogatus</span><span class="font11"> super articulo de |d-e </span><span class="font11" style="text-decoration:underline;">hostiarum consecratarum</span><span class="font11">, qui</span><span class="font11" style="text-decoration:underline;">bu&nbsp;</span><span class="font11">parochianos communicare. </span><span class="font11" style="font-style:italic;">Cf.</span><span class="font11"> Th. </span><span class="font11" style="font-style:italic;">V1, 1412, \42 sjpp N. conc£</span><span class="font11"> </span><span class="font11" style="text-decoration:underline;">foeni</span><span class="font11"> </span><span class="font11" style="font-style:italic;">i. cpfyenum&nbsp;</span><span class="font11">XIII p. 410 (a. 1463): ministerialis ... |post recepcionem feni vestigiis alias «koleg^&nbsp;parsionem parwam feni recepti inse|cutus est... usque in bona tua. </span><span class="font10" style="font-weight:bold;">2. </span><span class="font11" style="font-style:italic;">Jwminum</span><span class="font11"> | </span><span class="font11" style="text-decoration:underline;">a.&nbsp;</span><span class="font11" style="font-style:italic;">rozproszenie; eiectio, </span><span class="font11" style="font-style:italic;text-decoration:underline;">dissipatio,</span><span class="font10" style="font-weight:bold;"> |V </span><span class="font11">cmetijonum: </span><span class="font11" style="text-decoration:underline;">StPPP</span><span class="font11"> VIII p. 199 (a. 1386) : |tj</span></p>
<p><span class="font4">Fig. 1: “XML-unaware” annotation in the LibreOffice window</span></p><div><img src="055_files/055-1.jpg" style="width:50pt;height:29pt;"/></div><br clear="all"/>
<p><span class="font8">This approach allowed for reducing the learning curve to a minimum so that the team members could&nbsp;focus on the lexicographic content. However, it also&nbsp;has a serious drawback: annotation in the text editor&nbsp;cannot produce more complex hierarchies, since paragraph and character styles allow for representing at&nbsp;best two levels deep nesting.</span></p><h2><a name="bookmark4"></a><span class="font5">TEI for the </span><span class="font5" style="font-style:italic;">eLexicon</span></h2>
<p><span class="font8">A guiding principle of the subsequent TEI annotation was to combine </span><span class="font8" style="font-style:italic;">editorial</span><span class="font8"> and </span><span class="font8" style="font-style:italic;">lexical view</span><span class="font8"> of the dictionary content by (1) preserving its original text&nbsp;and (2) storing normalized data in attributes and&nbsp;empty XML elements. Typographic properties of the</span></p>
<p><span class="font8">text, on the other hand, were not generally encoded, they are easily reconstructible though.</span></p>
<p><span class="font8">Automatic and manual annotation consisted in three major procedures:</span></p>
<p><span class="font8">a. translation: custom ODT styles (corresponding to elements of dictionary structure) were “translated” into respective&nbsp;TEI elements or attributes;</span></p>
<p><span class="font8">b. grouping: deeply nested XML structure&nbsp;was produced from flat annotation;</span></p>
<p><span class="font8">c. enrichment: implicit information was&nbsp;made explicit.</span></p>
<p><span class="font8" style="font-weight:bold;">Translation</span></p>
<p><span class="font8">The paper justifies some of the annotation choices. Special attention is given to the peculiarities of encoding a scholarly lexicographic work.</span></p>
<p><span class="font8">1. </span><span class="font8" style="font-weight:bold;">&lt;entryFree&gt; </span><span class="font8">element was chosen as a container for dictionary entries.</span></p>
<p><span class="font8">2. Essential features of the dictionary macro-and microstructure are encoded as:</span></p>
<p><span class="font8" style="font-weight:bold;">&lt;form&gt;, &lt;orth&gt;; &nbsp;&nbsp;&nbsp;&lt;gramGrp&gt;, &lt;gen&gt;,</span></p>
<p><span class="font8" style="font-weight:bold;">&lt;iType&gt;, &lt;pos&gt;; &lt;etym&gt;, &lt;lang&gt;, &lt;mentioned&gt;; &nbsp;&nbsp;&nbsp;&lt;cit&gt;,&nbsp;&nbsp;&nbsp;&nbsp;&lt;bibl&gt;, &lt;biblScope&gt;,</span></p>
<p><span class="font8" style="font-weight:bold;">&lt;date&gt;, &lt;quote&gt;; &lt;sense&gt;, &lt;usg&gt;, &lt;def&gt;, &lt;gloss&gt;; &lt;xr&gt;, &lt;ref&gt;; &lt;lbl&gt;; &lt;re&gt;, &lt;certainty&gt;, &lt;oVar&gt;, &lt;note&gt;.</span></p>
<p><span class="font8">3. Content and form peculiarities of the LMILP&nbsp;are reflected in respective attributes. So, for&nbsp;example, functional variation of the entries&nbsp;is represented in the </span><span class="font8" style="font-weight:bold;">@type </span><span class="font8">attribute of the&nbsp;</span><span class="font8" style="font-weight:bold;">&lt;entryFree&gt; </span><span class="font8">and can take one of the following values: </span><span class="font8" style="font-weight:bold;">main, xref, hom.</span></p>
<p><span class="font8">4. The TEI schema was only lightly customized:&nbsp;unused elements were deleted; a few content restrictions were overcome.</span></p>
<p><span class="font8" style="text-decoration:underline;">Grouping: adding depth</span></p>
<p><span class="font8">The flat entry structure had to undergo heavy XSL</span></p>
<p><span class="font8">processing, so deep nesting typical of scholarly dictionaries could eventually emerge. Relative ease of the XML-unaware manual annotation resulted in timeconsuming post-processing. The </span><span class="font8" style="font-weight:bold;">xsl:for-each-group</span></p>
<p><span class="font8">XSL function was employed in order to structure:</span></p>
<p><span class="font8">1. citation groups:</span></p>
<p><span class="font1">&lt;cit&gt;</span></p>
<p><span class="font1">&lt;bibl&gt;</span></p>
<p><span class="font1">&lt;ref type=&quot;siglum&quot; target=&quot;fons:RachJag&quot;&gt;RachJag &lt;/ref&gt; cbiblScope type=&quot;pp&quot; n=<sup>ll</sup>215&quot;&gt;p. 215 &lt;/biblScope&gt;</span></p>
<p><span class="font1">(&lt;time when=&quot;1395&quot;&gt;a. 1395&lt;/time&gt;) &lt;/bibl&gt;:</span></p>
<p><span class="font1">&lt;quote&gt;pro cmilestone unit &quot;lb&quot; xml:id=&quot;2.1.3&quot;/&gt;VIII vlnis</span></p>
<p><span class="font1">&lt;«gloss xml:lang=&quot;pl-x-med&quot;&gt;pokoczin&lt;/gloss»&gt; grisei ad c-um dni regis cmilestone unit=&quot;lb&quot; xml:id=&quot;2.1.4&quot;/&gt;sub athlas&nbsp;ponendum. cmilestone unit=&quot;lb&quot; xml:id=&quot;2.1.5&quot;/&gt;</span></p>
<p><span class="font1">c/quote&gt;</span></p>
<p><span class="font1">c/cit&gt;</span></p>
<p><span class="font8">2. etymological groups:</span></p>
<p><span class="font2" style="text-decoration:underline;">&lt;etym&gt;</span></p>
<p><span class="font2">(cmentioned xml:lang=&quot;la-x-cla&quot;&gt;caput&lt;/mentioned&gt; &lt;certainty cert=&quot;low&quot; locus=&quot;value&quot;/&gt;?)</span></p>
<p><span class="font2" style="text-decoration:underline;">&lt;/etym&gt;</span></p>
<p><span class="font8">3. PoS and grammar groups:</span></p><img src="055_files/055-2.jpg" style="width:242pt;height:86pt;"/>
<p><span class="font8">sense groups:</span></p>
<p><span class="font1">csense orig=&quot;2.&quot; n=&quot;2&quot; xml :id=&quot;caballinus.2&quot;&gt; clabel type=&quot;numbering&quot;&gt;2.c/label&gt;</span></p>
<p><span class="font1">cusg norm=&quot;nat&quot; type=&quot;dom&quot; target=&quot;abbr:nat.dom&quot;&gt;nat.c/usg&gt; cusg type=&quot;colloc&quot;&gt; tricmilestone unit=&quot;lb&quot; xml :id=&quot;2.1.38&quot;/&gt;</span></p>
<p><span class="font1">cmilestone unit=&quot;page&quot; n=&quot;2&quot; xml:id=&quot;2.2&quot;/&gt; cmilestone unit=&quot;lb&quot; xml :id=&quot;2.2.l&quot;/&gt;folium c/usg&gt;</span></p>
<p><span class="font1">cdef xml :lang=&quot;pl&quot;&gt;przetacznik bobowniczekc/def&gt;; cdef xml :lang=&quot;la&quot;&gt; Veronica Becca</span></p>
<p><span class="font1">cmilestone unit=&quot;lb&quot; xml :id=&quot;2.2.2&quot;/&gt;bunga Linn.c/def&gt; ccit type=&quot;inline&quot;&gt;</span></p>
<p><span class="font1">cbibl&gt;</span></p>
<p><span class="font1">cref type=&quot;siglum&quot; target &quot;tons :RFil#XXV&quot;&gt; RFil XXV c/ref&gt; cbiblScope type=&quot;pp&quot; n=&quot;282&quot;&gt;p. 282 c/biblScope&gt;</span></p>
<p><span class="font1">(ctime when=&quot;1450&quot;&gt;a. 1450c/time&gt;) c/bibl&gt;</span></p>
<p><span class="font1">c/cit&gt;</span></p>
<p><span class="font1">c/sense&gt;</span></p>
<p><span class="font8" style="font-weight:bold;">Enrichment: expanding the dictionary content</span></p>
<p><span class="font8">Considerable effort was put into enriching the original content of the dictionary, namely: (1) resolving references, (2) normalizing strings, (3) adding redundant and/or inferred information.</span></p>
<p><span class="font8" style="text-decoration:underline;">Resolving references</span></p><div>
<p><span class="font8">A typical reference to an exact location in the dictionary text was encoded as follows:</span></p><img src="055_files/055-3.jpg" style="width:295pt;height:48pt;"/></div><br clear="all"/>
<p><span class="font8">References to a specific entry or sense relied on the </span><span class="font8" style="font-weight:bold;">@xml:id </span><span class="font8">attribute:</span></p>
<p><span class="font8">&lt;xr&gt;</span></p>
<p><span class="font3">&lt;label&gt;Cf.&lt;/label&gt;</span></p>
<p><span class="font3">cref target=&quot;#caballinus.2&quot;&gt;CABALLINUS 2&lt;/ref&gt; &lt;/xr&gt;</span></p>
<p><span class="font8">The encoding of most frequent type of references (pointing to a source of a language use example) is illustrated in the section II B 4 above.</span></p>
<p><span class="font8" style="text-decoration:underline;">String normalization</span></p>
<p><span class="font8">By string normalization, we mean a set of various procedures applied in order to generate a </span><span class="font8" style="font-style:italic;">lexical view&nbsp;</span><span class="font8">of the dictionary content. Standardized strings are&nbsp;usually stored in </span><span class="font8" style="font-weight:bold;">@norm </span><span class="font8">attributes of such elements&nbsp;as language or usage labels, prepositional and inflec-</span></p>
<p><span class="font8">tional patterns </span><span class="font8" style="font-style:italic;">etc.</span><span class="font8"> Their primary goal is to enable unified search that would be agnostic of the exact formulation of the paper dictionary. For example, when looking up philosophy-related terms one should be able to retrieve them no matter whether they have been&nbsp;marked with a </span><span class="font8" style="font-style:italic;">phil.</span><span class="font8"> label or with more verbose formula </span><span class="font8" style="font-style:italic;">in textibus philosophicis</span><span class="font8"> “in philosophical texts”,&nbsp;as both are annotated as </span><span class="font8" style="font-weight:bold;">@norm= ”phil”</span><span class="font12">. </span><span class="font8">The second&nbsp;major goal of the normalization was to render chronological information consistent and machine-readable.&nbsp;Its proper annotation should reflect the fact that many&nbsp;medieval texts cannot be dated but only approximately. Apart from some obvious cases (</span><span class="font9">@when </span><span class="font8">attribute stores a year date, for example </span><span class="font8" style="font-weight:bold;">&lt;time&nbsp;when=&quot;1450&quot;&gt;a. 1450&lt;/time&gt;) </span><span class="font8">the LMILP employs:</span></p>
<p><span class="font8">1. century dates</span></p>
<p><span class="font8" style="font-weight:bold;">(&lt;time &nbsp;&nbsp;&nbsp;notBefore=&quot;1401&quot; no-</span></p>
<p><span class="font8" style="font-weight:bold;">tAfter=&quot;1500&quot;&gt;saec. XV&lt;/time&gt; )</span></p>
<p><span class="font8">2. imprecise dates in year </span><span class="font8" style="font-weight:bold;">(&lt;time no-tAfter=&quot;1120&quot;&gt;ante 1120&lt;/time&gt;</span><span class="font8">) or century format (</span><span class="font8" style="font-weight:bold;">&lt;time notBefore=&quot;1401&quot; no-tAfter=&quot;1450&quot;&gt;saec. XV in.&lt;/time&gt;</span><span class="font8">).</span></p>
<p><span class="font8" style="text-decoration:underline;">Making information explicit</span></p>
<p><span class="font8">Finally, substantial effort has been devoted to making explicit what is not expressed directly in the paper dictionary, but left to be inferred by an expert user. In&nbsp;the LMILP, this is the case, for example, of a part of&nbsp;speech label which is provided for adverbs or conjunctions, but is normally omitted from verb or noun entries. Empty elements have therefore been created and&nbsp;their attributes filled with the inferred content. So, in&nbsp;a typical case, an element </span><span class="font8" style="font-weight:bold;">&lt;pos norm=&quot;subst&quot;/&gt;&nbsp;</span><span class="font8">would be appended to a </span><span class="font8" style="font-weight:bold;">&lt;gramGrp&gt; </span><span class="font8">group whenever&nbsp;the paper dictionary informs about a word's part-of-speech only indirectly, by means of a gender label (</span><span class="font8" style="font-style:italic;">f.&nbsp;</span><span class="font8">for Lat. </span><span class="font8" style="font-style:italic;">femininum</span><span class="font8">) or inflectional ending typical of&nbsp;nouns (</span><span class="font8" style="font-style:italic;">-ae</span><span class="font8">):</span></p><h1><a name="bookmark5"></a><span class="font5" style="font-weight:bold;">The Dictionary Web Application</span></h1>
<p><span class="font8">The last part of the paper briefly presents the overall architecture of the dictionary web application, its user interface having been already described elsewhere (Nowak 2014). Written entirely in XQuery, the&nbsp;application is served directly from the eXist-db instance with HTML and JavaScript code being equally&nbsp;stored in a database or generated on the fly. The&nbsp;presentation focuses on those features available in the&nbsp;eXist-db which are of critical importance for dictionary application design:</span></p>
<p><span class="font8">1. &nbsp;&nbsp;&nbsp;Various types of indexes available in the eX-ist-db allow for efficient retrieval of content&nbsp;from deeply nested dictionary files and dispersed textual data.</span></p>
<p><span class="font8">2. &nbsp;&nbsp;&nbsp;A templating system allows for fine-grained&nbsp;web presentation of the XML content.</span></p>
<p><span class="font8">3. &nbsp;&nbsp;&nbsp;A URL rewriting engine supports a logical&nbsp;system of dictionary content access.</span></p>
<p><span class="font8">4. &nbsp;&nbsp;&nbsp;An out-of-the-box RESTful API exposes lexicographic content to external applications.</span></p>
<p><span class="font8">In the conclusion, I will also point to some difficulties that I have encountered and which have mainly to do with handling application's state, a crucial&nbsp;feature for multi-language tools which require&nbsp;storing user search results.</span></p><h1><a name="bookmark6"></a><span class="font5" style="font-weight:bold;">Bibliography</span></h1>
<p><span class="font7" style="font-weight:bold;">Nowak, K. </span><span class="font7">(2014). ‘The eLexicon Mediae et Infimae Latini-tatis Polonorum. The Electronic Dictionary of Polish Medieval Latin'. In </span><span class="font7" style="font-style:italic;">The User in Focus. Proceedings of the XVI EURALEX International Congress: 15 - 19 July 2014, Bol-zano/Bozen</span><span class="font7">, edited by Andrea Abel, Chiara Vettori, and</span></p>
<p><span class="font7">Natascia Ralli, 793-806. Bolzano: EURAC Research.</span></p>
<p><span class="font7" style="font-weight:bold;">TEI Consortium. </span><span class="font7">(2016). TEI P5: Guidelines for Electronic</span></p>
<p><span class="font7">Text Encoding and Interchange. Version: 3.0.0.</span></p>
<p><span class="font7"><a href="http://www.tei-c.org/release/doc/tei-p5-">http://www.tei-c.org/release/doc/tei-p5-</a></span></p>
<p><span class="font7">doc/en/html/index.html.</span></p>
</body>
</html>