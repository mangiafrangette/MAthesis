A natural language generation system used for computer-aided language learning generates stimuli, or 'questions', along with one or more anticipated learner responses. To provide the learner with intelligent feedback, the system initially compares the actual responses entered by the learner with those produced by the system. The differences discovered in this way may be though of as symptoms; the eventual aim is to diagnose the deeper problems, misunderstandings of the language that underlie the symptoms, to offer corrective advice. This paper considers alternative approaches to the comparison process, and describes a two-level algorithm, based on approximate string matching, which determines and categorizes the differences between learner and system responses. The process detects variations in word order, insertions and deletions. It also reports on the use of synonyms or malwords, errors in morphology, phonological errors and typing slips. In subsequent work, these will form the basis for the adaptive generation of new stimuli, as well as for the deeper diagnosis of learner difficulties. Some typical results are shown.