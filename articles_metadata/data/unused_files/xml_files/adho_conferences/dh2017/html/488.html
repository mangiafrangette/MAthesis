<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta name="generator" content="ABBYY FineReader 14"/><title>Microsoft Word - 488. Tunink-Annotonia-488.docx</title><link rel="stylesheet" href="488_files/488.css" type="text/css"/>
</head>
<body><h1><a name="caption1"></a><a name="bookmark0"></a><span class="font4" style="font-weight:bold;">Annotonia: Annotations from Browser to TEI</span></h1>
<p><span class="font7" style="font-weight:bold;">Greg Tunink</span></p>
<p><span class="font7">techgique+<a href="mailto:conftool@unl.edu">conftool@unl.edu</a></span></p>
<p><span class="font7">University of Nebraska-Lincoln Libraries</span></p>
<p><span class="font7">United States of America</span></p>
<p><span class="font7" style="font-weight:bold;">Karin Dalziel</span></p>
<p><span class="font7"><a href="mailto:kdalziel2@unl.edu">kdalziel2@unl.edu</a></span></p>
<p><span class="font7">University of Nebraska-Lincoln Libraries</span></p>
<p><span class="font7">United States of America</span></p>
<p><span class="font7" style="font-weight:bold;">Jessica Dussault</span></p>
<p><span class="font7"><a href="mailto:jdussault@unl.edu">jdussault@unl.edu</a></span></p>
<p><span class="font7">University of Nebraska-Lincoln Libraries United States of America</span></p>
<p><span class="font7" style="font-weight:bold;">Emily J. Rau</span></p>
<p><span class="font7"><a href="mailto:erau2@unl.edu">erau2@unl.edu</a></span></p>
<p><span class="font7">University of Nebraska-Lincoln Libraries United States of America</span></p><h2><a name="bookmark1"></a><span class="font3" style="font-weight:bold;">Introduction</span></h2>
<p><span class="font7">The </span><span class="font7" style="font-style:italic;">Willa Cather Archive (WCA)</span><span class="font7"> at the University of Nebraska-Lincoln (UNL) is currently working on transcription and annotation of 1500 letters to be released&nbsp;in 2018. As editors will write several thousand annotations, the workflow logistics are complicated. Anno-</span></p>
<p><span class="font7">tonia ( a portmanteau of &quot;annotation&quot; and </span><span class="font7" style="font-style:italic;">My Antonia,</span><span class="font7"> a</span></p>
<p><span class="font7">1918 Willa Cather novel<sup>)</sup> is a solution developed within the Center for Digital Research in Humanities (CDRH)</span></p>
<p><span class="font7">that allows editors to write annotations directly on letters in a browser and insert those annotations into</span></p>
<p><span class="font7">Text Encoding Initiative (TEI) XML files. Multiple editors review annotations, track letters' annotation statuses, and generate a new TEI file incorporating the annotations, avoiding having to manually edit each&nbsp;file. Annotonia utilizes both pre-existing, customized&nbsp;open source software and new software developed for&nbsp;this project. This paper describes the difficulties faced,&nbsp;the workflow of Annotonia, and its prospects for future annotation work.</span></p><h2><a name="bookmark2"></a><span class="font3" style="font-weight:bold;">The challenge</span></h2>
<p><span class="font7">The </span><span class="font7" style="font-style:italic;">Complete Letters of Willa Cather</span><span class="font7"> is a National Endowment for the Humanities-funded project to&nbsp;publish a digital, fully annotated edition of the letters&nbsp;of Willa Cather, a 20th century American novelist. The&nbsp;project includes student editorial assistants, staff, and&nbsp;faculty both at UNL and working remotely. Because of&nbsp;differences in locale, technical abilities, and Cather-re-lated expertise, a solution was sought for drafting, revising, and encoding letter-specific annotations that&nbsp;would fit the skillsets of all collaborators.</span></p>
<p><span class="font7">The </span><span class="font7" style="font-style:italic;">WCA</span><span class="font7"> has two types of annotations: authority files and letter-specific information. Editors skilled&nbsp;with TEI XML curate and encode people, places, and&nbsp;works shared across the corpus into authority files.&nbsp;Letter-specific annotations are more challenging to&nbsp;manage as they are written by a wider group of scholars, many unfamiliar with encoding XML. Editors previously used a cumbersome process of pasting documents into Word files, sharing them for annotation,&nbsp;and laboriously copying received annotations back&nbsp;into the XML. This tedious process introduced errors&nbsp;and was deemed unsustainable for the large number&nbsp;of anticipated letter-specific annotations.</span></p>
<p><span class="font7">With these difficulties in mind, </span><span class="font7" style="font-style:italic;">WCA</span><span class="font7"> editors collaborated with CDRH developers to envision tools that would allow viewing the content of letters with all associated materials; writing letter-specific annotations&nbsp;that might include images, links, or other materials;&nbsp;and exporting finalized versions of these annotations&nbsp;as TEI XML. Editors also identified the need to view annotations that had already been written so information contained in them would not be repeated.</span></p><h2><a name="bookmark3"></a><span class="font3" style="font-weight:bold;">Project requirements</span></h2>
<p><span class="font2">• </span><span class="font7">Display letters via HTML with existing controlled vocabulary annotations for people, places, and works.</span></p>
<p><span class="font2">• </span><span class="font7">Provide an interface where editors can browse, edit, approve, and flag annotations.</span></p>
<p><span class="font2">• </span><span class="font7">Export annotations to their preservation format, TEI P5 XML.</span></p>
<p><span class="font2">• </span><span class="font7">Insert &lt;ref&gt; tags into the TEI XML corresponding to ID's in the annotation file above.</span></p><h2><a name="bookmark4"></a><span class="font3" style="font-weight:bold;">Existing software review</span></h2>
<p><span class="font7">Before building Annotonia, we looked at existing technologies and methods for annotating HTML. Web-based annotation is not a new concept, by any means.&nbsp;The value of annotating HTML has long been recognized for its collaborative strengths, allowing users to&nbsp;identify errors, review, comment on, and bookmark&nbsp;documents (W3C Digital Publishing Interest Group,&nbsp;2014). The W3C currently has a Web Annotation&nbsp;Working Group dedicated to creating specifications&nbsp;for &quot;interoperable, sharable, distributed Web annotation architecture&quot; (W3C Web Annotation Working&nbsp;Group, 2017; Web Annotation Data Model, 2017).</span></p>
<p><span class="font7">Most annotation software reviewed was not suitable for the project. Many existing solutions (such as </span><span class="font7" style="text-decoration:underline;">Annotation Studio,</span><span class="font7"> Recogito2, and </span><span class="font7" style="text-decoration:underline;">Editor's Notes</span><span class="font7">) did&nbsp;not allow in place annotation, instead requiring one to&nbsp;upload documents to their system. This would strip&nbsp;out the existing annotations, making work more difficult for editors. Some (such as </span><span class="font7" style="text-decoration:underline;">PundIT</span><span class="font7">) were not fully&nbsp;open source. Others (Such as </span><span class="font7" style="text-decoration:underline;">Hypothes.is</span><span class="font7">) were developed for public input and would require stripping out&nbsp;many features for our needs. Other problems encountered included installation roadblocks, lack of maintenance, and poor documentation. Importantly, our requirement of exporting annotations and embedding&nbsp;them into TEI documents was not supported by any&nbsp;existing systems.</span></p>
<p><span class="font7">With these considerations, programmers chose to work with Annotator and its back end complement,&nbsp;Annotator Store, because the software interacts&nbsp;through an API and uses XPaths for pinpointing annotations' locations (Open Knowledge Foundation,&nbsp;2016a; 2016b). Annotator proved to be easy to install&nbsp;and extend with community plugins, such as rich text&nbsp;editing, keyword tagging, and filtering. Annotator&nbsp;Store's use of Elasticsearch reinforced the decision to&nbsp;use it, as Elasticsearch is widely used and receives generous community development and support. Annotator deals only with the annotation part of the requirement and not categorizing or workflow, which had to&nbsp;be developed in-house.</span></p><h2><a name="bookmark5"></a><span class="font3" style="font-weight:bold;">Annotonia: the solution</span></h2>
<p><span class="font7">The first step was simply to display the letters' TEI XML in a browser in a way that minimally rearranged&nbsp;the structure of the documents. TEI Boilerplate uses&nbsp;browser XSLT capabilities to create an HTML/TEI hybrid representation of TEI documents with small alterations for links, images, and other elements (Walsh et&nbsp;al. 2013). Boilerplate was therefore useful for constructing HTML from documents, while allowing for&nbsp;TEI files to be added and removed quickly from the site&nbsp;structure and workflow.</span></p><div><img src="488_files/488-1.jpg" style="width:235pt;height:157pt;"/>
<p><span class="font1">Figure 1: The Annotonia workflow for a single batch of letters</span></p></div><br clear="all"/>
<p><span class="font7">In order to be able to annotate the documents displayed using TEI Boilerplate, programmers embedded Annotator in the web page and modified it so it had&nbsp;suitable options for the </span><span class="font7" style="font-style:italic;">WCA</span><span class="font7"> editors. These included&nbsp;stripping out some of the text editing capabilities and&nbsp;adding workflow-specific options.</span></p>
<p><span class="font9">well pleased in my busine&nbsp;advertise or</span></p>
<p><span class="font9">Or One has <sub>Do we need thjs annotation?</sub> </span><span class="font8" style="font-weight:bold;">The biographical annotations for both</span></p>
<p><span class="font8" style="font-weight:bold;">T lav rlnuun m <sup>of</sup> McClung’s mentioned in this sentence reference the Squirrel </span><span class="font5" style="font-weight:bold;">i Idy uown oi <sub>Hj|| House and when she Hved there&nbsp;</span><span class="font9"></sub>easy enough</span></p>
<p><span class="font9">done except</span></p><div style="border-bottom:solid;">
<p><span class="font8" style="font-weight:bold;">[The McClung home at 1180 Murray Hill Road in Pittsburgh, PA, was Cather's residence during her last five years in the city (1901-1906)&nbsp;and a frequent retreat thereafter.</span></p></div><br clear="all"/><div>
<p><span class="font9">to think. Only ? do not&nbsp;e for a living&nbsp;y family any if&nbsp;. It would be&nbsp;)t no work&nbsp;death and&nbsp;life. The loss of&nbsp;fight it out, but</span></p></div><br clear="all"/><div>
<p><span class="font0" style="font-weight:bold;">Needs Correction Needs Annotation Draft Complete</span></p></div><br clear="all"/><div>
<p><span class="font0" style="font-weight:bold;">© Cancel</span></p></div><br clear="all"/><div>
<p><span class="font9">Isabelle's max<sub>v</sub>*<sub>6</sub>v a home like that leaves one pretty lonely and miserable. I can</span></p></div><br clear="all"/>
<p><span class="font1">Figure 2: An example of creating and categorizing an annotation with Annotonia</span></p>
<p><span class="font7">Annotator does not include an interface for searching, browsing, and editing all of the annotations from the Annotator Store. PHP pages were written to provide these capabilities.</span></p><img src="488_files/488-2.jpg" style="width:230pt;height:186pt;"/>
<p><span class="font1">Figure 3: Annotation review page including an annotation with an image and a referenced annotation</span></p>
<p><span class="font7">The last requirement for Annotonia was a conversion script that inserts annotation references into TEI documents while exporting an authority file containing the annotations. The conversion script takes a subset of XML files, queries the Annotator Store API, adds&nbsp;tags for annotations based on XPaths, and outputs a</span></p>
<p><span class="font7">list of possibly incorrect insertions that require review.</span></p><h2><a name="bookmark6"></a><span class="font3" style="font-weight:bold;">Use and extension</span></h2>
<p><span class="font7">The collection of new scripts and open source software comprising Annotonia has been able to handle the workflow requirements of the </span><span class="font7" style="font-style:italic;">WCA's</span><span class="font7"> letter annotations, though there is room for improvement. The areas that require the most attention are the rendering&nbsp;of TEI in HTML and the scripted editing of TEI files. TEI&nbsp;Boilerplate necessarily alters the TEI in order to mimic&nbsp;the behavior of HTML links and images, which means&nbsp;that occasionally the location of an annotation in the&nbsp;HTML view is difficult to match up programmatically&nbsp;due to differing XPaths.</span></p>
<p><span class="font7">A new alternative to Boilerplate, CETEIcean, which promises to preserve “the full structure and information from your TEI data model,&quot; may be one possibility to address this problem (Cayless and Viglianti,&nbsp;2016). Programmers would need to evaluate how easily it can be incorporated into the Annotonia workflow,&nbsp;as well as the ability to load the Annotator JavaScript&nbsp;libraries in the page.</span></p>
<p><span class="font7">Some aspects of the Annotonia code base are tailored for use only with TEI Boilerplate display and </span><span class="font7" style="font-style:italic;">WCA</span><span class="font7"> file naming conventions. These functions would&nbsp;have to be generalized to make Annotonia easier to integrate with other tools and projects. Meanwhile, the</span></p>
<p><span class="font7">Annotator community continues to improve the software. A new version is forthcoming which includes modifications to enhance the experience of creating,&nbsp;saving, and updating the highlighting of HTML content.&nbsp;When this version of Annotator is released, it may require some reworking of existing customizations, but&nbsp;updating Annotonia to incorporate its new features&nbsp;will support a broader variety of projects.</span></p><h2><a name="bookmark7"></a><span class="font3" style="font-weight:bold;">Reception</span></h2>
<p><span class="font7">The </span><span class="font7" style="font-style:italic;">WCA</span><span class="font7"> began using Annotonia in September 2016. Guidelines and instructional videos demonstrating Annotonia's functions have alleviated difficulties&nbsp;from the varying technical skills of editors. Although&nbsp;still in the beginning stages of annotating individual&nbsp;letters, the tool works well for collaborating on, drafting, and revising annotations. Editors have estimated&nbsp;that each annotation automatically handled saves&nbsp;around 5 minutes of time, so the potential time savings&nbsp;is several months of work. Through an iterative process, improvements have been added as users uncover&nbsp;inefficiencies and provide feedback. By 2018, several&nbsp;thousand annotations will be created with Annotonia&nbsp;and published with the complete letters on the </span><span class="font7" style="font-style:italic;">WCA</span><span class="font7">.&nbsp;</span><span class="font3" style="font-weight:bold;">Further applications</span></p>
<p><span class="font7">A frequent difficulty for digital archival projects is efficiently proofreading and annotating texts. In the&nbsp;CDRH, these workflows on other projects resemble the&nbsp;</span><span class="font7" style="font-style:italic;">WCA</span><span class="font7">'s old process of marking up Word documents, or,&nbsp;worse yet, printing out entire websites and annotating&nbsp;by hand. Designing solutions by combining open&nbsp;source software with well documented, configurable&nbsp;scripts and workflows has proven to be effective in&nbsp;providing flexibility to cover a variety of needs. As we&nbsp;apply this method to extending and generalizing An-notonia for other projects like the </span><span class="font7" style="font-style:italic;">Walt Whitman Archive</span><span class="font7"> and </span><span class="font7" style="font-style:italic;">The William F. Cody Archive</span><span class="font7">, we will further&nbsp;refine deployment and documentation.</span></p>
<p><span class="font7">The PHP and conversion components of Annotonia have been published (“</span><span class="font7" style="text-decoration:underline;">Annotonia Status</span><span class="font7">” and “</span><span class="font7" style="text-decoration:underline;">Annotonia Converter</span><span class="font7">”, and the customized pieces of existing&nbsp;software will be published soon. Full publication of&nbsp;Annotonia will involve further documentation and&nbsp;testing. It is the hope of the Annotonia team that this&nbsp;tool will not only prove to be useful internally, but will&nbsp;provide inspiration to other text based editions seeking to automate annotation processes.</span></p><h2><a name="bookmark8"></a><span class="font3" style="font-weight:bold;">Bibliography</span></h2>
<p><span class="font6" style="font-weight:bold;">Cayless, H. A. and Viglianti, R. </span><span class="font6">(2016). “TEIC/CETEIcean.” </span><span class="font6" style="font-style:italic;">GitHub</span><span class="font6">. <a href="https://github.com/TEIC/CETEIcean">https://github.com/TEIC/CETEIcean</a> (accessed&nbsp;19 October 2016).</span></p>
<p><span class="font6" style="font-weight:bold;">Open Knowledge Foundation </span><span class="font6">(2016a). “Annotator - Annotating the Web.” <a href="http://annotatorjs.org/">http://annotatorjs.org/</a> (accessed 11 October 2016).</span></p>
<p><span class="font6" style="font-weight:bold;">Open Knowledge Foundation </span><span class="font6">(2016b). “Annotator-Store.” </span><span class="font6" style="font-style:italic;">GitHub</span><span class="font6">. <a href="https://github.com/openannotation/annotator-store">https://github.com/openannotation/annotator-store</a> (accessed 11 October 2016).</span></p>
<p><span class="font6" style="font-weight:bold;">W3C Digital Publishing Interest Group and Open Annotation Community Group </span><span class="font6">(2014). “Annotation Use Cases.” <a href="http://www.openannotation.org/usecases.html">http://www.openannotation.org/usecases.html</a>&nbsp;(accessed March 3, 2014).</span></p>
<p><span class="font6" style="font-weight:bold;">W3C Web Annotation Working Group </span><span class="font6">(2017). “Web Annotation Data Model.” <a href="https://www.w3.org/TR/annota-tion-model/">https://www.w3.org/TR/annota-tion-model/</a> (accessed February 23, 2017).</span></p>
<p><span class="font6" style="font-weight:bold;">W3C Web Annotation Working Group </span><span class="font6">(2016). “W3C Web Annotation Working Group.” <a href="https://www.w3.org/an-notation/">https://www.w3.org/an-notation/</a> (accessed October 11, 2016).</span></p>
<p><span class="font6" style="font-weight:bold;">Walsh, J., Simpson, G., and Moaddeli, S. </span><span class="font6">(2016) “TEI Boilerplate.” <a href="http://dcl.ils.indiana.edu/teibp/">http://dcl.ils.indiana.edu/teibp/</a> (accessed 19 October 2016).</span></p>
<p><span class="font6" style="font-weight:bold;">Willa Cather Archive. </span><span class="font6">“Github Organization.” </span><span class="font6" style="font-style:italic;">GitHub</span><span class="font6">. <a href="https://github.com/Willa-Cather-Archive">https://github.com/Willa-Cather-Archive</a> (accessed 19&nbsp;October 2016).</span></p>
</body>
</html>