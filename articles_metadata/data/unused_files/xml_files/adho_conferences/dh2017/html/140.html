<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
	"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head><meta http-equiv="content-type" content="text/html; charset=UTF-8"/><meta name="generator" content="ABBYY FineReader 14"/><title>Microsoft Word - 140. Holmes-Beyond Validation-140.docx</title><link rel="stylesheet" href="140_files/140.css" type="text/css"/>
</head>
<body>
<p><span class="font8" style="font-weight:bold;">Beyond Validation: using programmed diagnostics to&nbsp;learn about, monitor, and&nbsp;successfully complete your&nbsp;DH project</span></p>
<p><span class="font5" style="font-weight:bold;">Martin Holmes</span></p>
<p><span class="font5"><a href="mailto:mholmes@uvic.ca">mholmes@uvic.ca</a></span></p>
<p><span class="font5">University of Victoria, Canada</span></p>
<p><span class="font5" style="font-weight:bold;">Joey Takeda</span></p>
<p><span class="font5"><a href="mailto:joey.takeda@gmail.com">joey.takeda@gmail.com</a></span></p>
<p><span class="font5">University of British Columbia, Canada</span></p>
<p><span class="font5">Schema-based validation of XML documents has long been a fundamental tool for quality control in&nbsp;digital edition projects, and the emergence of richer&nbsp;schema languages and adjuncts such as Schematron&nbsp;has greatly improved the constraints and controls&nbsp;available to XML authors and encoders (Jacinto et al.&nbsp;2002). However, schema-based validation typically&nbsp;takes place at the document level, whereas “most&nbsp;programs that use XML require information that is not&nbsp;encoded in the XML instance or in the schema that&nbsp;governs it” (Vorthmann &amp; Robie 2001). The modern&nbsp;digital edition project typically consists of multiple&nbsp;documents with large numbers of pointers between&nbsp;them:&nbsp;&nbsp;&nbsp;&nbsp;links between named entities and</span></p>
<p><span class="font5">personographies, placeographies and bibliographies; pointers to external documents and fragments, images&nbsp;and other media; and similar complex&nbsp;interrelationships within the collection, and to&nbsp;external resources and authorities. These&nbsp;relationships need to be tested, checked, and validated&nbsp;too, but it is impractical to do this using document-level schemas. As Durand et al. (2009) point out, “such&nbsp;testing requirements are in fact closer to conventional&nbsp;system or software testing requirements than to&nbsp;document testing in a narrow sense.” Most large- and&nbsp;medium-scale projects develop their own methods,&nbsp;programmed and/or impromptu, for addressing these&nbsp;problems, and these have been quite well-described&nbsp;and documented for enterprise-level and corporate&nbsp;contexts (for instance, see the papers presented&nbsp;presented at the </span><span class="font5" style="text-decoration:underline;">International Symposium on Quality</span></p>
<p><span class="font5" style="text-decoration:underline;">Assurance and Quality Control in XML</span><span class="font5">, particularly Waldt 2012), but little has been published on project-level diagnostic testing for XML-based digital edition&nbsp;collections (see Rahtz, 2007)</span></p>
<p><span class="font5">In our work as part of Endings, an umbrella project that comprises four diverse digital edition projects&nbsp;from different fields, we have been developing a&nbsp;structured approach to implementing methods for&nbsp;checking and enforcing project correctness,&nbsp;consistency, and coherence, which we will describe in&nbsp;this paper. Influenced no doubt by Star Trek, we have&nbsp;long referred to these processes as “diagnostics”, and&nbsp;in our description we follow the franchise tradition&nbsp;detailed in Sternbach and Okuda (1991) in dividing&nbsp;diagnostics into levels; however, we depart from&nbsp;convention in ordering our levels from most&nbsp;granular/least comprehensive up to the most general.&nbsp;For each level, we provide real examples of processes&nbsp;run on one of our projects.</span></p>
<p><span class="font5">We stress that these diagnostics are built on top of a solid basis of RelaxNG and Schematron schemas. In&nbsp;the case of our projects, we use highly-customized&nbsp;versions of the TEI schema (all TEI-compliant) in&nbsp;addition to project-specific Schematron rules, which&nbsp;not only police tagging practices (e.g. enforcing the use&nbsp;of private URI schemes in pointing attributes, and&nbsp;checking the presence of appropriate custom dating&nbsp;attributes for pre-Gregorian dates), but also style&nbsp;guide rules such as prohibiting the use of straight&nbsp;apostrophes in document text nodes (excepting&nbsp;computer code samples). Our diagnostic processes&nbsp;normally take the form of ant scripts and XSLT&nbsp;transformations, and are run on a Jenkins Continuous&nbsp;Integration server; every time changes are committed&nbsp;to a project repository, the Jenkins server checks out&nbsp;the changes, validates all documents, and runs the&nbsp;entire set of diagnostics processes, providing the&nbsp;results in the form of a public web page such as this&nbsp;one:</span></p><img src="140_files/140-1.jpg" style="width:223pt;height:333pt;"/>
<p><span class="font1">Figure 1: A diagnostics output page from the Map of Early Modern London project.</span></p>
<p><span class="font5">In combination with this paper, which is intended to be a useful primer and guide, we have developed a&nbsp;Diagnostics project hosted on GitHub&nbsp;(http: / / github.com/proj ectEndings / diagnostics) that&nbsp;can be used by researchers whose digital edition&nbsp;projects have grown to the point where ad hoc manual&nbsp;checking has become impractical. This tool provides&nbsp;generic referential integrity checking that can be&nbsp;applied to any set of TEI XML files.</span></p><h1><a name="caption1"></a><a name="bookmark0"></a><span class="font3" style="font-weight:bold;">Level 1</span></h1>
<p><span class="font5">Level 1 diagnostics provide project-level, as opposed to document-level, consistency checking to&nbsp;establish the internal coherence of the project,&nbsp;primarily through ensuring referential integrity. We&nbsp;borrow the phrase “referential integrity” from the&nbsp;MLA's “Guiding Questions for Vetters of Scholarly&nbsp;Editions” (2011), which advises peer-reviewers of&nbsp;digital editions that link to multiple databases to see if&nbsp;“referential integrity [is] enforced within the&nbsp;database(s).” This includes checking for non-existent&nbsp;pointers, duplicate @xml:ids across the project, and&nbsp;erroneously encoded references (e.g. tagging a place&nbsp;name as a bibliography reference). Ensuring&nbsp;referential integrity is particularly complex for&nbsp;projects that use “abbreviated pointers” to facilitate&nbsp;internal linking (see </span><span class="font5" style="text-decoration:underline;">TEI Consortium</span><span class="font5"> (2016)), since it&nbsp;may not be obvious to the encoder which resource is&nbsp;being referenced by a pointer. Thus, the first level of&nbsp;diagnostics checks both whether or not an object&nbsp;pointed to actually exists and whether or not the&nbsp;markup correctly represents the relationship between&nbsp;the element and the target resource. For instance, to&nbsp;check all instances of the relationship shown in Fig. 2,&nbsp;a number of different tests are actually done:</span></p><img src="140_files/140-2.jpg" style="width:241pt;height:143pt;"/>
<p><span class="font1">Figure 2: a simple referential integrity check.</span></p>
<p><span class="font5">1. &nbsp;&nbsp;&nbsp;Every &lt;name type=”org”&gt; points at an&nbsp;@xml:id which exists in the project.</span></p>
<p><span class="font5">2. &nbsp;&nbsp;&nbsp;The element pointed at by &lt;name&nbsp;type=”org”&gt; is an &lt;org&gt; element in the&nbsp;ORGS1.xml document.</span></p>
<p><span class="font5">3. &nbsp;&nbsp;&nbsp;Every &lt;name&gt; element which points at an&nbsp;&lt;org&gt; element in ORGS1.xml has&nbsp;@type=”org”.</span></p>
<p><span class="font5">For small-scale projects, this kind of referential integrity check could be accomplished with&nbsp;Schematron, since a Schematron rule using XPath 2.0&nbsp;can read external documents, but for a project of any&nbsp;significant size, this is impractical. For example,&nbsp;Schematron checks to confirm the rules above may&nbsp;add around six seconds to document validation in the&nbsp;Oxygen XML Editor, causing frustration for editors,&nbsp;while simply checking that a linked location exists&nbsp;would require the processing of over a thousand files&nbsp;in this project, since each location is a distinct file.&nbsp;Level 2</span></p>
<p><span class="font5">While Level 1 diagnostics generally focus on coherence and consistency, Level 2 is more concerned&nbsp;with completeness. Level 2 diagnostics provide&nbsp;progress analysis, generate to-do lists, and identify&nbsp;situations that may indicate error, but require human&nbsp;judgement. These include cases in which:</span></p>
<p><span class="font2">• &nbsp;&nbsp;&nbsp;</span><span class="font5">Two bibliography or personography entries&nbsp;appear sufficiently similar that they may be&nbsp;duplicates.</span></p>
<p><span class="font2">• &nbsp;&nbsp;&nbsp;</span><span class="font5">Several &lt;name&gt; elements point to the same&nbsp;authority record, but the text of one of them&nbsp;is significantly different from the others, so it&nbsp;may point at the wrong target.</span></p>
<p><span class="font2">• &nbsp;&nbsp;&nbsp;</span><span class="font5">A document in the project is not linked from&nbsp;anywhere else, and therefore cannot be&nbsp;“reached”.</span></p>
<p><span class="font5">Such issues cannot be automatically rectified— they are not necessarily errors—but they must be&nbsp;examined. Figure 3 shows an example of the first&nbsp;check, which uses a similarity metric to identify&nbsp;potential duplicate bibliography entries.</span></p>
<p><span class="font7" style="font-weight:bold;">Possible duplicate &lt;bibl&gt; entries (24) </span><span class="font10" style="font-weight:bold;">▼</span></p>
<p><span class="font9">Explanation</span></p>
<p><span class="font9" style="font-style:italic;">These bibliography entries appear very similar, as measured by a similarity metric, so they are possibly duplicates.</span></p>
<p><span class="font9" style="font-style:italic;">• &nbsp;&nbsp;&nbsp;Closer to l indicates higher similarity.</span></p>
<p><span class="font9" style="font-style:italic;">• &nbsp;&nbsp;&nbsp;Closer to </span><span class="font0" style="font-style:italic;">o </span><span class="font9" style="font-style:italic;">indicates lower similarity.</span></p>
<p><span class="font9">• &nbsp;&nbsp;&nbsp;&lt;bibl&gt; DEKK2 appears similar to SMALi (similarity score 0.925):</span></p>
<p><span class="font6">Dekker, Thomas. The Shoemaker's Holiday. Ed. R.L. Smallwood and</span></p>
<p><span class="font6">Stanley Wells. Manchester: Manchester UP, 1979. The Revels Plays.</span></p>
<p><span class="font6">Smallwood, R.L., and Stanley Wells, eds. The Shoemaker's Holiday. By</span></p>
<p><span class="font6">Thomas Dekker. Manchester: Manchester UP, 1979. The Revels Plays.</span></p>
<p><span class="font9">• &nbsp;&nbsp;&nbsp;cbibl &gt; DEKK13 appears similar to SMUTi (similarity score 0.90697676):</span></p>
<p><span class="font6">Dekker, Thomas, Stephen Harrison, Ben Jonson, and Thomas Middleton.</span></p>
<p><span class="font6">The Whole Royal and Magnificent Entertainment of King James through the City of London, 15 March 1604, with the Arches of Triumph. Ed. R.&nbsp;Malcolm Smuts. Thomas Middleton: The Collected Works. Gen. ed. Gary&nbsp;Taylor and John Lavagnino. Oxford: Oxford UP, 2007. 219-79.</span></p>
<p><span class="font6">Smuts, R. Malcolm, ed. The Whole Royal and Magnificent Entertainment of King James through the City of London, 15 March 1604, with the&nbsp;Arches of Triumph. Thomas Middleton: The Collected Works. Gen. ed.</span></p>
<p><span class="font6">Gary Taylor and John Lavagnino. Oxford: Oxford UP, 2007.</span></p>
<p><span class="font1">Figure 3: Results of a Level 2 diagnostic check that attempts to identify duplicate bibliography entries.</span></p>
<p><span class="font5">At Level 2, we also generate to-do lists for specific sub-projects, providing a set of tasks for the project&nbsp;team to focus on in order to reach a milestone or&nbsp;publish a particular document. The definition of&nbsp;“done” for a specific document may transcend the&nbsp;document itself. For instance, before we deem a&nbsp;particular edition of a text publishable, we may&nbsp;require that all authority records (people, places,&nbsp;publications) linked from that document are&nbsp;themselves complete, so the to-do list for a given&nbsp;document may require work in a variety of other&nbsp;documents in the project</span></p><h1><a name="bookmark1"></a><span class="font3" style="font-weight:bold;">Level 3</span></h1>
<p><span class="font5">Armed with a comprehensive set of Level 1 and Level 2 diagnostics, and assuming our data is managed&nbsp;using a version-control repository such as Subversion&nbsp;or Git, we can now generate diachronic views of the&nbsp;project's progress. A script can check out a sequence&nbsp;of incarnations of the project, weekly over a period of&nbsp;months, for instance, and run the entire current&nbsp;diagnostic suite against it; we can then combine these&nbsp;snapshots to get a clear sense of how our work is&nbsp;proceeding. This also means that every time we&nbsp;develop a new diagnostic procedure, we can apply it to&nbsp;the entire history of the project to see the trajectory of&nbsp;project work with respect to the datapoint in question.&nbsp;Two examples, this time from the Nxa?amxcin&nbsp;Dictionary project (an indigenous dictionary project&nbsp;described in detail in Czaykowska-Higgins, Holmes,&nbsp;and Kell (2014)) appear in Figs 4 and 5 below. Figure&nbsp;4 shows the number of completed dictionary entries in&nbsp;orange, rising steadily over a period of 18 months, and&nbsp;the number of occurrences of a known problem:&nbsp;duplicate instances of the same gloss. These duplicates&nbsp;rise along with the number of entries until October&nbsp;2016, when this issue was added to our diagnostics&nbsp;process, and the encoders were able to address it.</span></p><img src="140_files/140-3.jpg" style="width:242pt;height:83pt;"/>
<p><span class="font1">Figure 4: The number of instances of duplicate glosses, tracked against completed entries, in the Nxa?amxcin&nbsp;Dictionary project.</span></p>
<p><span class="font5">Fig. 5 shows cases of broken cross-references, which also tend to increase along with the number of&nbsp;completed entries, but we can see from the graph that&nbsp;the issue was aggressively addressed in two separate&nbsp;campaigns in fall 2015 and summer 2016. New&nbsp;instances continue to appear, however.</span></p><img src="140_files/140-4.jpg" style="width:242pt;height:83pt;"/>
<p><span class="font1">Figure 5: The number of broken cross-references, tracked against completed entries.</span></p>
<p><span class="font5">Fig. 6, from a different project, shows how this approach can be used to forecast completion dates for&nbsp;tasks in a project based on the progress rate so far.</span></p><img src="140_files/140-5.jpg" style="width:242pt;height:171pt;"/>
<p><span class="font1">Figure 6: Diachronic diagnostics used to project task completion dates.</span></p><h1><a name="bookmark2"></a><span class="font3" style="font-weight:bold;">Conclusion</span></h1>
<p><span class="font5">As Matthew Kirschenbaum (2009) tells us, there “is no more satisfying sequence of characters” than&nbsp;“Done.” The overall purpose of a digital edition project&nbsp;is to finish and publish the edition, and this requires&nbsp;not only that the document-level encoding be valid,&nbsp;but also that the entire dataset be coherent, consistent,&nbsp;and complete. Programmed diagnostics enable&nbsp;projects to enforce coherence and consistency,&nbsp;manage the workflow effectively, and measure their&nbsp;progress towards completeness.</span></p><h1><a name="bookmark3"></a><span class="font3" style="font-weight:bold;">Bibliography</span></h1>
<p><span class="font4" style="font-weight:bold;">Czaykowska-Higgins, E., Holmes, M., and Kell, S. </span><span class="font4">(2014).</span></p>
<p><span class="font4">“Using TEI for an Endangered Language Lexical</span></p>
<p><span class="font4">Resource: &nbsp;&nbsp;&nbsp;The Nxa?amxcfn Database-Dictionary</span></p>
<p><span class="font4">Project.” Language Documentation &amp; Conservation 8: 1</span></p>
<p><span class="font4">37.</span></p>
<p><span class="font4" style="font-weight:bold;">Modern Language Association</span><span class="font4">. (2016) “Guidelines for</span></p>
<p><span class="font4">Editors of Scholarly Editions.” Modern Language</span></p>
<p><span class="font4">Association. Accessed September 15.</span></p>
<p><span class="font4"><a href="https://www.mla.org/Resources/Research/Surveys-">https://www.mla.org/Resources/Research/Surveys-</a></span></p>
<p><span class="font4">Reports-and-Other-Documents/Publishing-and-</span></p>
<p><span class="font4">Scholarship/Reports-from-the-MLA-Committee-on-</span></p>
<p><span class="font4">Scholarly-Editions/Guidelines-for-Editors-of-Scholarly-</span></p>
<p><span class="font4">Editions.</span></p>
<p><span class="font4" style="font-weight:bold;">Modern Language Association. </span><span class="font4">(2011) “Guiding Questions for Vetters of Scholarly Editions.”. Modern Language&nbsp;Association.&nbsp;&nbsp;&nbsp;&nbsp;Accessed&nbsp;&nbsp;&nbsp;&nbsp;October&nbsp;&nbsp;&nbsp;&nbsp;21.</span></p>
<p><span class="font4"><a href="https://www.mla.org/content/download/3201/81158">https://www.mla.org/content/download/3201/81158</a> /cse_guidelines_2011.pdf.</span></p>
<p><span class="font4" style="font-weight:bold;">Jacinto, M. H. , Librelotto, G. R., Ramalho, J. C., and Henriques, P. R. </span><span class="font4">(2002). “Constraint specification&nbsp;languages: comparing XCSL, Schematron and XML-Schemas.”</span></p>
<p><span class="font4"><a href="http://repositorium.sdum.uminho.pt/handle/1822/61">http://repositorium.sdum.uminho.pt/handle/1822/61</a></span></p>
<p><span class="font4">9.</span></p>
<p><span class="font4" style="font-weight:bold;">Kirschenbaum, M. </span><span class="font4">(2009). “Done: Finishing Projects in the Digital Humanities.” DHQ 3&nbsp;&nbsp;&nbsp;&nbsp;(2).</span></p>
<p><span class="font4"><a href="http://digitalhumanities.org:8081/dhq/vol/3/2/0000">http://digitalhumanities.org:8081/dhq/vol/3/2/0000</a></span></p>
<p><span class="font4">37/000037.html.</span></p>
<p><span class="font4" style="font-weight:bold;">International Symposium on Quality Assurance and Quality Control in XML </span><span class="font4">(2012) “Proceedings of the&nbsp;International Symposium on Quality Assurance and&nbsp;Quality Control in XML.” August 6,&nbsp;&nbsp;&nbsp;&nbsp;2012.</span></p>
<p><span class="font4"><a href="http://www.balisage.net/Proceedings/vol9/contents.h">http://www.balisage.net/Proceedings/vol9/contents.h</a> tml.</span></p>
<p><span class="font4" style="font-weight:bold;">Rahtz, S. </span><span class="font4">(2007). “Technology Overview and Discussion: Data Capture, Editing, and Schemas.” Oxford, February&nbsp;13. <a href="http://tei.it.ox.ac.uk/Talks/2007-02-13-oucs/talk-editing.xml">http://tei.it.ox.ac.uk/Talks/2007-02-13-oucs/talk-editing.xml</a>.</span></p>
<p><span class="font4" style="font-weight:bold;">Sternbach, R., and Okuda, M. </span><span class="font4">(1991). Star Trek, the next Generation: Technical Manual. New York: Pocket Books.&nbsp;<a href="http://catalog.hathitrust.org/api/volumes/oclc/24648">http://catalog.hathitrust.org/api/volumes/oclc/24648</a>&nbsp;561.html.</span></p>
<p><span class="font4" style="font-weight:bold;">Vorthmann, S., and Robie, J. </span><span class="font4">2001. “Beyond Schemas: Schema Adjuncts and the Outside World.” Markup&nbsp;Languages: Theory &amp; Practice 2 (3): 281-94.</span></p>
<p><span class="font4" style="font-weight:bold;">Waldt, D. </span><span class="font4">2012. “Quality Assurance in the XML World: Beyond Validation.” Accessed September 15.&nbsp;<a href="http://www.balisage.net/Proceedings/vol9/author-pkg/Waldt01/BalisageVol9-Waldt01.html">http://www.balisage.net/Proceedings/vol9/author-pkg/Waldt01/BalisageVol9-Waldt01.html</a>.</span></p>
</body>
</html>